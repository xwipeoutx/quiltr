(function(){"use strict";var e={7496:function(e,t,s){var o=s(9242),n=s(3396);function r(e,t,s,o,r,i){const l=(0,n.up)("HelloWorld");return(0,n.wg)(),(0,n.j4)(l,{msg:"Welcome to Quiltr"})}var i=s(6520),l=s(7139);const u=e=>((0,n.dD)("data-v-32ab977c"),e=e(),(0,n.Cn)(),e),a=(0,n.Uk)(" x "),c={class:"swatches-container"},h=["value"],w=["onClick"],d=u((()=>(0,n._)("br",null,null,-1))),f=["onUpdate:modelValue"],v=u((()=>(0,n._)("br",null,null,-1))),m={class:"swatch-container"},p={style:{float:"right"}},g=(0,n.Uk)("Brush Size: "),b=["onMouseover","onMousedown"];function C(e,t,s,r,i,u){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("h1",null,(0,l.zw)(e.msg),1),(0,n._)("div",null,[(0,n.wy)((0,n._)("input",{type:"number",min:"1",max:"100","onUpdate:modelValue":t[0]||(t[0]=t=>e.numColumns=t),onChange:t[1]||(t[1]=(...t)=>e.regenerateCells&&e.regenerateCells(...t))},null,544),[[o.nr,e.numColumns]]),a,(0,n.wy)((0,n._)("input",{type:"number",min:"1",max:"100","onUpdate:modelValue":t[2]||(t[2]=t=>e.numRows=t),onChange:t[3]||(t[3]=(...t)=>e.regenerateCells&&e.regenerateCells(...t))},null,544),[[o.nr,e.numRows]])]),(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.swatches,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,l.C_)(["swatch-container",e.selectedSwatchIndex==s?"swatch-selected":"swatch-unselected"]),key:s,value:s},[(0,n._)("button",{onClick:t=>e.selectedSwatchIndex=s}," Swatch "+(0,l.zw)(s+1),9,w),d,(0,n.wy)((0,n._)("input",{type:"color","onUpdate:modelValue":e=>t.color=e},null,8,f),[[o.nr,t.color]]),v,(0,n.Uk)(" "+(0,l.zw)(e.swatchCounts[s]),1)],10,h)))),128)),(0,n._)("div",m,[(0,n._)("button",{onClick:t[4]||(t[4]=(...t)=>e.addSwatch&&e.addSwatch(...t))},"+")])]),(0,n._)("div",p,[(0,n._)("button",{onClick:t[5]||(t[5]=(...t)=>e.load&&e.load(...t))},"Load"),(0,n._)("button",{onClick:t[6]||(t[6]=(...t)=>e.save&&e.save(...t))},"Save")]),(0,n._)("div",null,[g,(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=t=>e.brushSize=t)},null,512),[[o.nr,e.brushSize]])]),(0,n._)("div",{class:"quilt",onMousedown:t[8]||(t[8]=(...t)=>e.onMouseDown&&e.onMouseDown(...t)),onMouseup:t[9]||(t[9]=(...t)=>e.onMouseUp&&e.onMouseUp(...t))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.rows,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{key:s,class:"quilt-row"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t,((t,s)=>((0,n.wg)(),(0,n.iD)("span",{key:s,class:"quilt-cell",onMouseover:s=>e.onMouseOver(t),onMousedown:s=>e.onMouseDownOnCell(t,s),style:(0,l.j5)({backgroundColor:e.swatches[t.swatchIndex].color})},(0,l.zw)(t.name),45,b)))),128))])))),128))],32)])}var S=s(2482),y=function(e,t,s,o){var n,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,s,i):n(t,s))||i);return r>3&&i&&Object.defineProperty(t,s,i),i};let x=class extends i.w3{constructor(...e){super(...e),(0,S.Z)(this,"msg",void 0),(0,S.Z)(this,"brushSize",1),(0,S.Z)(this,"numRows",40),(0,S.Z)(this,"numColumns",64),(0,S.Z)(this,"selectedSwatchIndex",0),(0,S.Z)(this,"rows",[]),(0,S.Z)(this,"swatches",[{color:"#FFAAAA"},{color:"#AAFFAA"},{color:"#AAAAFF"}]),(0,S.Z)(this,"swatchCounts",[]),(0,S.Z)(this,"isMouseDown",!1),(0,S.Z)(this,"saveTimeout",0)}created(){this.regenerateCells(),this.load()}addRow(){this.numRows++,this.regenerateCells()}removeRow(){this.numRows--,this.regenerateCells()}addColumn(){this.numColumns++,this.regenerateCells()}removeColumn(){this.numColumns--,this.regenerateCells()}regenerateCells(){var e=this.rows;this.rows=[];for(var t=0;t<this.numRows;t++){this.rows[t]=[];for(var s=0;s<this.numColumns;s++)this.rows[t][s]={name:`${t},${s}`,swatchIndex:0,row:t,col:s},e[t]&&e[t][s]&&(this.rows[t][s].swatchIndex=e[t][s].swatchIndex)}this.queueSave()}onMouseDownOnCell(e,t){0===t.button&&(this.isMouseDown=!0,this.setColor(e))}onMouseDown(e){0===e.button&&(this.isMouseDown=!0)}onMouseUp(){this.isMouseDown=!1}onMouseOver(e){this.isMouseDown&&this.setColor(e)}setColor(e){var t=e.col-Math.floor((this.brushSize-1)/2),s=e.col+Math.ceil((this.brushSize-1)/2),o=e.row-Math.floor((this.brushSize-1)/2),n=e.row+Math.ceil((this.brushSize-1)/2);t<0&&(t=0),s>=this.numColumns&&(s=this.numColumns-1),o<0&&(o=0),n>=this.numRows&&(n=this.numRows-1);for(var r=t;r<=s;r++)for(var i=o;i<=n;i++){var l=this.rows[i][r];l.swatchIndex!==this.selectedSwatchIndex&&(l.swatchIndex=this.selectedSwatchIndex)}this.queueSave()}addSwatch(){this.swatches=[...this.swatches,{color:"#FFFFFF"}],this.selectedSwatchIndex=this.swatches.length-1,this.queueSave()}countSwatches(){this.swatchCounts=this.swatches.map((()=>0)),this.rows.forEach((e=>e.forEach((e=>this.swatchCounts[e.swatchIndex]++))))}queueSave(){this.saveTimeout||(this.saveTimeout=setTimeout((()=>{this.save(),this.saveTimeout=0}),2e3))}save(){const e={grid:this.rows,swatches:this.swatches,selectedSwatchIndex:this.selectedSwatchIndex,brushSize:this.brushSize};localStorage.setItem("quilt",JSON.stringify(e)),this.countSwatches()}load(){const e=localStorage.getItem("quilt");if(e){const t=JSON.parse(e);this.rows=t.grid,this.swatches=t.swatches,this.selectedSwatchIndex=t.selectedSwatchIndex||0,this.brushSize=t.brushSize||1,this.numRows=this.rows.length,this.numColumns=this.rows[0].length,this.regenerateCells(),this.countSwatches()}}};x=y([(0,i.Ei)({props:{msg:String}})],x);var M=x,_=s(89);const O=(0,_.Z)(M,[["render",C],["__scopeId","data-v-32ab977c"]]);var D=O,I=function(e,t,s,o){var n,r=arguments.length,i=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,s,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(i=(r<3?n(i):r>3?n(t,s,i):n(t,s))||i);return r>3&&i&&Object.defineProperty(t,s,i),i};let k=class extends i.w3{};k=I([(0,i.Ei)({components:{HelloWorld:D}})],k);var R=k;const z=(0,_.Z)(R,[["render",r]]);var j=z;(0,o.ri)(j).mount("#app")}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,r){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],r=e[c][2];for(var l=!0,u=0;u<o.length;u++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[u])}))?o.splice(u--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var a=n();void 0!==a&&(t=a)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,i=o[0],l=o[1],u=o[2],a=0;if(i.some((function(t){return 0!==e[t]}))){for(n in l)s.o(l,n)&&(s.m[n]=l[n]);if(u)var c=u(s)}for(t&&t(o);a<i.length;a++)r=i[a],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},o=self["webpackChunkquiltr_app"]=self["webpackChunkquiltr_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(7496)}));o=s.O(o)})();
//# sourceMappingURL=app.06888b9f.js.map